import React, { useEffect, useState } from 'react';
import { useSelector } from 'react-redux';
import { Link } from 'react-router-dom';

import './_app-header.scss';

const AppHeader = () => {
	const isAuth = useSelector((state) => state.userReducer.isAuth);

	return (
		<header className='header'>
			<div className='header__container'>
				<div className='header__row'>
					<div className='header__sidebar icon'>
						<svg
							width='30'
							height='22'
							viewBox='0 0 30 22'
							fill='none'
							xmlns='http://www.w3.org/2000/svg'>
							<rect width='30' height='4' rx='2' fill='#4D2392' />
							<rect
								y='9'
								width='30'
								height='4'
								rx='2'
								fill='#4D2392'
							/>
							<rect
								y='18'
								width='30'
								height='4'
								rx='2'
								fill='#4D2392'
							/>
						</svg>
					</div>
					<Link to='/' className='header__logo icon'>
						<svg
							width='120'
							height='54'
							viewBox='0 0 120 54'
							fill='none'
							xmlns='http://www.w3.org/2000/svg'>
							<path
								d='M71.3075 18.7836C71.4891 17.8208 71.584 16.8273 71.584 15.8115C71.584 7.07905 64.5732 0 55.9247 0C50.6332 0 45.9546 2.65018 43.1203 6.70784C40.3989 4.40103 36.8891 3.01171 33.0579 3.01171C24.4926 3.01171 17.5336 9.95544 17.4008 18.5721H17.3989C7.78966 18.5721 0 26.4376 0 36.1404C0 45.8433 7.78966 53.7088 17.3989 53.7088H68.6013C78.2103 53.7088 86 45.8433 86 36.1404C86 27.3671 79.6314 20.0963 71.3075 18.7836Z'
								fill='#F9AFAA'
							/>
							<path
								d='M45.72 41.76C45.984 41.76 46.212 41.856 46.404 42.048C46.596 42.24 46.692 42.468 46.692 42.732V44.028C46.692 44.292 46.596 44.52 46.404 44.712C46.212 44.904 45.984 45 45.72 45H31.068C30.804 45 30.576 44.904 30.384 44.712C30.192 44.52 30.096 44.292 30.096 44.028V20.772C30.096 20.508 30.192 20.28 30.384 20.088C30.576 19.896 30.804 19.8 31.068 19.8H32.544C32.808 19.8 33.036 19.896 33.228 20.088C33.42 20.28 33.516 20.508 33.516 20.772V41.76H45.72ZM49.0584 29.196C49.0824 27.852 49.3104 26.592 49.7424 25.416C50.1984 24.216 50.8464 23.184 51.6864 22.32C52.5264 21.432 53.5584 20.736 54.7824 20.232C56.0064 19.704 57.4104 19.44 58.9944 19.44C60.5784 19.44 61.9824 19.704 63.2064 20.232C64.4304 20.736 65.4624 21.432 66.3024 22.32C67.1424 23.184 67.7784 24.216 68.2104 25.416C68.6664 26.592 68.9064 27.852 68.9304 29.196C69.0024 31.332 69.0024 33.468 68.9304 35.604C68.8824 36.948 68.6304 38.22 68.1744 39.42C67.7424 40.596 67.1064 41.628 66.2664 42.516C65.4264 43.404 64.3944 44.1 63.1704 44.604C61.9704 45.108 60.5784 45.36 58.9944 45.36C57.4104 45.36 56.0064 45.108 54.7824 44.604C53.5824 44.1 52.5624 43.404 51.7224 42.516C50.8824 41.628 50.2344 40.596 49.7784 39.42C49.3464 38.22 49.1064 36.948 49.0584 35.604C48.9864 33.468 48.9864 31.332 49.0584 29.196ZM65.5104 29.376C65.4624 28.248 65.2704 27.264 64.9344 26.424C64.6224 25.584 64.1784 24.888 63.6024 24.336C63.0264 23.784 62.3424 23.376 61.5504 23.112C60.7824 22.824 59.9304 22.68 58.9944 22.68C58.0584 22.68 57.1944 22.824 56.4024 23.112C55.6344 23.376 54.9624 23.784 54.3864 24.336C53.8104 24.888 53.3544 25.584 53.0184 26.424C52.6824 27.264 52.5024 28.248 52.4784 29.376C52.4304 30.456 52.4064 31.464 52.4064 32.4C52.4064 33.336 52.4304 34.344 52.4784 35.424C52.5024 36.552 52.6824 37.536 53.0184 38.376C53.3544 39.216 53.8104 39.912 54.3864 40.464C54.9624 41.016 55.6344 41.436 56.4024 41.724C57.1944 41.988 58.0584 42.12 58.9944 42.12C59.9304 42.12 60.7824 41.988 61.5504 41.724C62.3424 41.436 63.0264 41.016 63.6024 40.464C64.1784 39.912 64.6224 39.216 64.9344 38.376C65.2704 37.536 65.4624 36.552 65.5104 35.424C65.5584 34.344 65.5824 33.336 65.5824 32.4C65.5824 31.464 65.5584 30.456 65.5104 29.376ZM73.2459 29.124C73.2939 27.804 73.5219 26.556 73.9299 25.38C74.3619 24.204 74.9979 23.172 75.8379 22.284C76.7019 21.396 77.7699 20.7 79.0419 20.196C80.3139 19.692 81.8139 19.44 83.5419 19.44C85.1739 19.44 86.6019 19.68 87.8259 20.16C89.0739 20.64 90.1059 21.24 90.9219 21.96C91.7619 22.656 92.3859 23.412 92.7939 24.228C93.2259 25.02 93.4539 25.74 93.4779 26.388C93.5019 26.604 93.4299 26.796 93.2619 26.964C93.0939 27.108 92.9019 27.18 92.6859 27.18H91.2099C90.6339 27.18 90.2859 27.048 90.1659 26.784C89.8779 26.208 89.5419 25.668 89.1579 25.164C88.7979 24.66 88.3659 24.228 87.8619 23.868C87.3579 23.508 86.7459 23.22 86.0259 23.004C85.3299 22.788 84.5019 22.68 83.5419 22.68C82.5579 22.68 81.6459 22.824 80.8059 23.112C79.9899 23.376 79.2819 23.784 78.6819 24.336C78.0819 24.888 77.6019 25.584 77.2419 26.424C76.8819 27.24 76.6899 28.2 76.6659 29.304C76.6179 30.384 76.5939 31.38 76.5939 32.292C76.5939 33.204 76.6179 34.2 76.6659 35.28C76.6899 36.432 76.8819 37.44 77.2419 38.304C77.6019 39.168 78.0819 39.888 78.6819 40.464C79.2819 41.016 79.9899 41.436 80.8059 41.724C81.6459 41.988 82.5579 42.12 83.5419 42.12C84.5019 42.12 85.4019 42 86.2419 41.76C87.0819 41.52 87.8139 41.136 88.4379 40.608C89.0619 40.056 89.5419 39.348 89.8779 38.484C90.2379 37.62 90.4179 36.564 90.4179 35.316V34.308H85.2339C84.9699 34.308 84.7419 34.212 84.5499 34.02C84.3579 33.828 84.2619 33.6 84.2619 33.336V32.04C84.2619 31.776 84.3579 31.548 84.5499 31.356C84.7419 31.164 84.9699 31.068 85.2339 31.068H92.8659C93.1299 31.068 93.3579 31.164 93.5499 31.356C93.7419 31.548 93.8379 31.776 93.8379 32.04V35.46C93.8379 36.9 93.6099 38.232 93.1539 39.456C92.6979 40.656 92.0259 41.7 91.1379 42.588C90.2739 43.452 89.1939 44.136 87.8979 44.64C86.6259 45.12 85.1739 45.36 83.5419 45.36C81.8139 45.36 80.3139 45.108 79.0419 44.604C77.7699 44.076 76.7139 43.368 75.8739 42.48C75.0339 41.592 74.3979 40.548 73.9659 39.348C73.5339 38.148 73.2939 36.852 73.2459 35.46C73.1739 33.348 73.1739 31.236 73.2459 29.124ZM97.8553 29.196C97.8793 27.852 98.1073 26.592 98.5393 25.416C98.9953 24.216 99.6433 23.184 100.483 22.32C101.323 21.432 102.355 20.736 103.579 20.232C104.803 19.704 106.207 19.44 107.791 19.44C109.375 19.44 110.779 19.704 112.003 20.232C113.227 20.736 114.259 21.432 115.099 22.32C115.939 23.184 116.575 24.216 117.007 25.416C117.463 26.592 117.703 27.852 117.727 29.196C117.799 31.332 117.799 33.468 117.727 35.604C117.679 36.948 117.427 38.22 116.971 39.42C116.539 40.596 115.903 41.628 115.063 42.516C114.223 43.404 113.191 44.1 111.967 44.604C110.767 45.108 109.375 45.36 107.791 45.36C106.207 45.36 104.803 45.108 103.579 44.604C102.379 44.1 101.359 43.404 100.519 42.516C99.6793 41.628 99.0313 40.596 98.5753 39.42C98.1433 38.22 97.9033 36.948 97.8553 35.604C97.7833 33.468 97.7833 31.332 97.8553 29.196ZM114.307 29.376C114.259 28.248 114.067 27.264 113.731 26.424C113.419 25.584 112.975 24.888 112.399 24.336C111.823 23.784 111.139 23.376 110.347 23.112C109.579 22.824 108.727 22.68 107.791 22.68C106.855 22.68 105.991 22.824 105.199 23.112C104.431 23.376 103.759 23.784 103.183 24.336C102.607 24.888 102.151 25.584 101.815 26.424C101.479 27.264 101.299 28.248 101.275 29.376C101.227 30.456 101.203 31.464 101.203 32.4C101.203 33.336 101.227 34.344 101.275 35.424C101.299 36.552 101.479 37.536 101.815 38.376C102.151 39.216 102.607 39.912 103.183 40.464C103.759 41.016 104.431 41.436 105.199 41.724C105.991 41.988 106.855 42.12 107.791 42.12C108.727 42.12 109.579 41.988 110.347 41.724C111.139 41.436 111.823 41.016 112.399 40.464C112.975 39.912 113.419 39.216 113.731 38.376C114.067 37.536 114.259 36.552 114.307 35.424C114.355 34.344 114.379 33.336 114.379 32.4C114.379 31.464 114.355 30.456 114.307 29.376Z'
								fill='#4C29CC'
							/>
						</svg>
					</Link>
					<div className='search-panel'>
						<label htmlFor='ser-act' className='search-icon icon'>
							<svg
								width='32'
								height='32'
								viewBox='0 0 32 32'
								fill='none'
								xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M13.5 7C15.2239 7 16.8772 7.68482 18.0962 8.90381C19.3152 10.1228 20 11.7761 20 13.5C20 15.11 19.41 16.59 18.44 17.73L18.71 18H19.5L24.5 23L23 24.5L18 19.5V18.71L17.73 18.44C16.59 19.41 15.11 20 13.5 20C11.7761 20 10.1228 19.3152 8.90381 18.0962C7.68482 16.8772 7 15.2239 7 13.5C7 11.7761 7.68482 10.1228 8.90381 8.90381C10.1228 7.68482 11.7761 7 13.5 7ZM13.5 9C11 9 9 11 9 13.5C9 16 11 18 13.5 18C16 18 18 16 18 13.5C18 11 16 9 13.5 9Z'
									fill='#787885'
								/>
							</svg>
						</label>
						<input
							type='text'
							className='header__serc-inp'
							id='ser-act'
						/>
						<div className='close icon'>
							<svg
								width='14'
								height='14'
								viewBox='0 0 14 14'
								fill='none'
								xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z'
									fill='#7B46D3'
								/>
							</svg>
						</div>
					</div>
					<Link to='/add-product' className='header__add'>
						<svg
							width='17'
							height='17'
							viewBox='0 0 17 17'
							fill='none'
							xmlns='http://www.w3.org/2000/svg'>
							<path
								d='M3.00003 0.9H3H1.5C1.34087 0.9 1.18826 0.963214 1.07574 1.07574C0.963214 1.18826 0.9 1.34087 0.9 1.5C0.9 1.65913 0.963214 1.81174 1.07574 1.92426C1.18826 2.03679 1.34087 2.1 1.5 2.1H2.53184L2.91226 3.62832L4.41071 11.6104C4.41071 11.6104 4.41071 11.6104 4.41072 11.6105C4.43646 11.7479 4.50943 11.8721 4.617 11.9615C4.72459 12.0509 4.86003 12.0999 4.99991 12.1H5H5.10557C4.88829 12.2023 4.68814 12.342 4.51508 12.5151C4.12125 12.9089 3.9 13.443 3.9 14C3.9 14.557 4.12125 15.0911 4.51508 15.4849C4.9089 15.8787 5.44305 16.1 6 16.1C6.55695 16.1 7.0911 15.8787 7.48492 15.4849C7.87875 15.0911 8.1 14.557 8.1 14C8.1 13.443 7.87875 12.9089 7.48492 12.5151C7.31186 12.342 7.11171 12.2023 6.89443 12.1H12.1056C11.8883 12.2023 11.6881 12.342 11.5151 12.5151C11.1213 12.9089 10.9 13.443 10.9 14C10.9 14.557 11.1213 15.0911 11.5151 15.4849C11.9089 15.8787 12.443 16.1 13 16.1C13.557 16.1 14.0911 15.8787 14.4849 15.4849C14.8787 15.0911 15.1 14.557 15.1 14C15.1 13.443 14.8787 12.9089 14.4849 12.5151C14.3119 12.342 14.1117 12.2023 13.8944 12.1H14H14.0001C14.14 12.0999 14.2754 12.0509 14.383 11.9615C14.4906 11.8721 14.5635 11.7479 14.5893 11.6104C14.5893 11.6104 14.5893 11.6104 14.5893 11.6104L16.0893 3.61043L16.0893 3.6104C16.1055 3.5238 16.1024 3.4347 16.0803 3.34942C16.0582 3.26414 16.0176 3.18478 15.9614 3.11696C15.9051 3.04915 15.8346 2.99456 15.7549 2.95706C15.6752 2.91956 15.5882 2.90008 15.5001 2.9H15.5H3.96809L3.58203 1.3548C3.58202 1.35479 3.58202 1.35477 3.58202 1.35476C3.54962 1.22492 3.47475 1.10963 3.3693 1.02723C3.26385 0.944821 3.13387 0.900037 3.00003 0.9ZM5.49799 10.9L4.2225 4.1H14.7775L13.502 10.9H5.49799ZM6 13.1C6.23869 13.1 6.46761 13.1948 6.6364 13.3636C6.80518 13.5324 6.9 13.7613 6.9 14C6.9 14.2387 6.80518 14.4676 6.6364 14.6364C6.46761 14.8052 6.23869 14.9 6 14.9C5.76131 14.9 5.53239 14.8052 5.3636 14.6364C5.19482 14.4676 5.1 14.2387 5.1 14C5.1 13.7613 5.19482 13.5324 5.3636 13.3636C5.53239 13.1948 5.76131 13.1 6 13.1ZM13 13.1C13.2387 13.1 13.4676 13.1948 13.6364 13.3636C13.8052 13.5324 13.9 13.7613 13.9 14C13.9 14.2387 13.8052 14.4676 13.6364 14.6364C13.4676 14.8052 13.2387 14.9 13 14.9C12.7613 14.9 12.5324 14.8052 12.3636 14.6364C12.1948 14.4676 12.1 14.2387 12.1 14C12.1 13.7613 12.1948 13.5324 12.3636 13.3636C12.5324 13.1948 12.7613 13.1 13 13.1Z'
								fill='#4D2392'
								stroke='#4D2392'
								stroke-width='0.2'
							/>
						</svg>
						<p className='add-text'>Добавить товар</p>
					</Link>
					{!isAuth && (
						<div className='header__favorites header__add'>
							<svg
								width='17'
								height='17'
								viewBox='0 0 17 17'
								fill='none'
								xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M7.57 11.585L7.5 11.655L7.423 11.585C4.098 8.56801 1.9 6.57301 1.9 4.55001C1.9 3.15001 2.95 2.10001 4.35 2.10001C5.428 2.10001 6.478 2.80001 6.849 3.75201H8.151C8.522 2.80001 9.572 2.10001 10.65 2.10001C12.05 2.10001 13.1 3.15001 13.1 4.55001C13.1 6.57301 10.902 8.56801 7.57 11.585ZM10.65 0.700012C9.432 0.700012 8.263 1.26701 7.5 2.15601C6.737 1.26701 5.568 0.700012 4.35 0.700012C2.194 0.700012 0.5 2.38701 0.5 4.55001C0.5 7.18901 2.88 9.35201 6.485 12.621L7.5 13.545L8.515 12.621C12.12 9.35201 14.5 7.18901 14.5 4.55001C14.5 2.38701 12.806 0.700012 10.65 0.700012Z'
									fill='#4D2392'
								/>
							</svg>
							<p className='favorite-text add-text'>Избранное</p>
						</div>
					)}
					{!isAuth && (
						<Link to='/form' className='register-link'>
							<button className='register-btn'>Войти</button>
						</Link>
					)}
					{isAuth && (
						<Link
							to='/profile'
							className='profile-link header__add'>
							<svg
								width='29'
								height='28'
								viewBox='0 0 29 28'
								fill='none'
								xmlns='http://www.w3.org/2000/svg'>
								<path
									d='M15 6C12.5493 6 10.5556 7.99378 10.5556 10.4444C10.5556 12.8951 12.5493 14.8889 15 14.8889C17.4507 14.8889 19.4444 12.8951 19.4444 10.4444C19.4444 7.99378 17.4507 6 15 6ZM15 13.1111C13.5298 13.1111 12.3333 11.9147 12.3333 10.4444C12.3333 8.97422 13.5298 7.77778 15 7.77778C16.4702 7.77778 17.6667 8.97422 17.6667 10.4444C17.6667 11.9147 16.4702 13.1111 15 13.1111ZM23 22.8889V22C23 18.5698 20.208 15.7778 16.7778 15.7778H13.2222C9.79111 15.7778 7 18.5698 7 22V22.8889H8.77778V22C8.77778 19.5493 10.7716 17.5556 13.2222 17.5556H16.7778C19.2284 17.5556 21.2222 19.5493 21.2222 22V22.8889H23Z'
									fill='#4D2392'
								/>
							</svg>
							<p className='add-text'>Профиль</p>
						</Link>
					)}
				</div>
			</div>
		</header>
	);
};

export default AppHeader;
